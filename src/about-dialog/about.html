<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- Can't seem to call javascript here. -->
    <!-- <title>About <script>document.write(getProductName())</script></title> -->
    <title>About Chef Workstation</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/about.css">
    <script>
      const about = require('./about.js');
      const helpers = require('../helpers/helpers.js');
      const workstation = require('../helpers/chef_workstation.js');
      const appConfig = require("../app-config/app-config.js");
      document.addEventListener("DOMContentLoaded", function(event) {
        about.updateDialog();
      });
    </script>
  </head>
  <body>
    <main>
      <section>
        <div class="col col-9">
          <h1 class="extra-large"><script>document.write(helpers.getDisplayName())</script></h1>
          <div class="strong-list">
            <p><strong>Version</strong>
              <script>
                document.write(workstation.getVersion());
              </script>
            </p>
            <p><strong>License</strong>
              Apache License Version 2.0
            </p>
            <div class="p-inline-button">
              <!-- workstation is available via the about.js script -->
              <p id='update-channel'><strong>Release</strong> <script>document.write(appConfig.default.getUpdateChannel())</script></p>
              <button id='update-channel-btn' class="secondary" onclick="about.toggleUpdatesChannel()" disabled>Switch to <script>document.write(about.getSwitchToChannel())</script> release</button>
            </div>
          </div>
        </div>
        <div class="col col-3">
          <img class="logo" src="../../assets/images/workstation-logo.svg" alt="" />
        </div>
      </section>
      <section class="link-list">
        <p><a href="javascript:about.openPackageDetails();">Package details</a></p>
        <p><a href="javascript:about.openLicense();">License Agreement</a></p>
        <p><a href="javascript:about.openReleaseNotes();">Release notes</a></p>
      </section>
      <section>
        <p class="small">&#9400; 2008-2019 Chef Software, Inc. All Rights Reserved.</p>
      </section>
    </main>
  </body>
</html>
